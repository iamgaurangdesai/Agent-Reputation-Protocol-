<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARP x Ethos | Agent Reputation</title>
    <script>
        let agents = [
            { name: "Gaurang-Desai", wallet: "0xGAUR...HACK", stake: 500, walletAge: 3.5, vouches: 35, positive: 88, negative: 2, transactions: 50, slashes: 0, arpScore: 190, ethosScore: 144.4, unifiedScore: 114.7, tier: "legendary", risk: 2 },
            { name: "Trustworthy-Alice", wallet: "0xTRU...LICE", stake: 200, walletAge: 4.0, vouches: 40, positive: 75, negative: 1, transactions: 40, slashes: 0, arpScore: 112, ethosScore: 144.7, unifiedScore: 72.2, tier: "established", risk: 2 },
            { name: "ScamBot-Eve", wallet: "0xSCAM...EVE", stake: 5, walletAge: 0.05, vouches: 0, positive: 1, negative: 15, transactions: 5, slashes: 5, arpScore: 11, ethosScore: 0, unifiedScore: 5.6, tier: "scammer", risk: 90, flagged: true }
        ];

        function calculatePotential(wallet, stake) {
            // Smart potential calculation based on wallet
            let hash = 0;
            for (let i = 0; i < wallet.length; i++) {
                hash = ((hash << 5) - hash) + wallet.charCodeAt(i);
                hash = hash & hash;
            }
            
            // Generate realistic metrics based on wallet hash
            const walletNum = Math.abs(hash) % 10000;
            
            return {
                walletAge: (walletNum % 5) + 0.1,
                vouches: Math.floor(walletNum % 50),
                positive: Math.floor((walletNum % 100) + 10),
                negative: walletNum % 3,
                transactions: Math.floor((walletNum % 200) + 5),
                slashes: 0
            };
        }

        function calculateScore(data) {
            const arpBase = (data.transactions * 3) + (data.positive * 4) - (data.negative * 8) - (data.slashes * 15);
            const arpBonus = (data.stake * 0.5) + (data.vouches * 2);
            const arpScore = Math.max(0, arpBase + arpBonus);
            
            const ethosBase = 50 + Math.min(data.walletAge * 10, 20) + Math.min(data.vouches * 3, 30) + (data.positive * 4) - (data.negative * 10) - (data.slashes * 15);
            const ethosScore = Math.max(0, ethosBase);
            
            const unifiedScore = ((arpScore / 2) + (ethosScore / 2)) * 0.8;
            
            let risk = 50 - Math.min(data.walletAge * 10, 30) - Math.min(data.vouches * 2, 20) + data.negative * 5 + data.slashes * 10;
            risk = Math.max(0, Math.min(100, risk));
            
            let tier = "newcomer";
            if (unifiedScore >= 100) tier = "legendary";
            else if (unifiedScore >= 75) tier = "elite";
            else if (unifiedScore >= 50) tier = "established";
            else if (unifiedScore >= 25) tier = "trusted";
            
            return {
                arpScore: Math.round(arpScore),
                ethosScore: Math.round(ethosScore),
                unifiedScore: Math.round(unifiedScore * 10) / 10,
                tier,
                risk: Math.round(risk)
            };
        }

        function renderAgents() {
            agents.sort((a, b) => b.unifiedScore - a.unifiedScore);
            
            const grid = document.getElementById("agents-grid");
            grid.innerHTML = agents.map((agent, i) => `
                <div class="agent-card ${agent.flagged ? "flagged" : ""}">
                    <div class="card-top">
                        <div class="card-avatar">${agent.flagged ? "üö´" : "üë§"}</div>
                        <div class="card-info">
                            <div class="card-name">${agent.name}</div>
                            <div class="card-tier tier-${agent.tier}">${agent.tier}</div>
                        </div>
                        <div class="card-score">
                            <div class="score-value ${agent.flagged ? "flagged" : ""}">${agent.unifiedScore}</div>
                        </div>
                    </div>
                    <div class="card-stats">
                        <span class="stat-pill">üí∞ ${agent.stake} USDC</span>
                        <span class="stat-pill">üìÖ ${agent.walletAge}y</span>
                        <span class="stat-pill">üëç ${agent.vouches}</span>
                        <span class="stat-pill ${agent.negative > 5 ? "bad" : ""}">‚≠ê +${agent.positive}/-${agent.negative}</span>
                    </div>
                    <div class="card-risk">
                        <span>Risk: ${agent.risk}%</span>
                        <div class="risk-bar"><div class="risk-fill ${agent.risk < 20 ? "low" : agent.risk < 50 ? "medium" : "high"}" style="width:${agent.risk}%"></div></div>
                    </div>
                </div>
            `).join("");
            
            const tbody = document.getElementById("leaderboard-body");
            tbody.innerHTML = agents.map((agent, i) => `
                <tr class="${agent.flagged ? "flagged" : ""}">
                    <td class="rank">${i+1}</td>
                    <td><strong>${agent.name}</strong></td>
                    <td class="lb-score">${agent.unifiedScore}</td>
                    <td><span class="lb-tier tier-${agent.tier}">${agent.tier}</span></td>
                    <td>${agent.flagged ? "üö´" : "‚úÖ"}</td>
                </tr>
            `).join("");
        }

        function addAgent(e) {
            e.preventDefault();
            
            const name = document.getElementById("name").value.trim();
            const wallet = document.getElementById("wallet").value.trim();
            const stake = parseFloat(document.getElementById("stake").value) || 100;
            
            if (!name || !wallet) return;
            
            // Auto-calculate potential based on wallet
            const potential = calculatePotential(wallet, stake);
            
            const scores = calculateScore({ ...potential, stake });
            
            agents.unshift({
                name,
                wallet: wallet.substring(0, 8) + "...",
                stake,
                ...potential,
                ...scores,
                flagged: scores.risk > 50
            });
            
            renderAgents();
            
            const notif = document.getElementById("notification");
            notif.innerHTML = `‚úÖ ${name}: Potential ${scores.unifiedScore} (${scores.tier})`;
            notif.classList.add("show");
            setTimeout(() => notif.classList.remove("show"), 3000);
            
            document.getElementById("agentForm").reset();
        }
        
        function calculateAndShowPotential() {
            const wallet = document.getElementById("wallet").value.trim();
            const stake = parseFloat(document.getElementById("stake").value) || 100;
            
            if (wallet.length < 5) {
                document.getElementById("potential-preview").innerHTML = "";
                return;
            }
            
            const potential = calculatePotential(wallet, stake);
            const scores = calculateScore({ ...potential, stake });
            
            document.getElementById("potential-preview").innerHTML = `
                <div class="potential-result">
                    <span class="potential-score ${scores.tier}">${scores.unifiedScore}</span>
                    <span class="potential-tier tier-${scores.tier}">${scores.tier}</span>
                    <span class="potential-risk ${scores.risk < 20 ? "good" : scores.risk < 50 ? "ok" : "bad"}">Risk: ${scores.risk}%</span>
                </div>
            `;
        }

        document.addEventListener("DOMContentLoaded", () => {
            renderAgents();
            document.getElementById("agentForm").addEventListener("submit", addAgent);
            document.getElementById("wallet").addEventListener("input", calculateAndShowPotential);
            document.getElementById("stake").addEventListener("input", calculateAndShowPotential);
        });
    </script>
    <style>
        :root { --bg:#0a0a0f; --card:rgba(26,26,36,0.95); --border:rgba(255,255,255,0.1); --text:#fff; --text2:rgba(255,255,255,0.7); --purple:#8b5cf6; --green:#10b981; --red:#ef4444; --orange:#f59e0b; --gold:#ffd700; --grad:linear-gradient(135deg,#3b82f6,#8b5cf6,#ec4899); }
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:Inter,sans-serif;background:var(--bg);color:var(--text);padding:60px 16px 40px;line-height:1.5}
        .container{max-width:600px;margin:0 auto}
        h1{font-size:1.75rem;text-align:center;margin-bottom:4px;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .subtitle{text-align:center;color:var(--text2);margin-bottom:24px;font-size:0.85rem}
        .fraud{background:linear-gradient(135deg,rgba(239,68,68,0.15),rgba(245,158,11,0.15));border:1px solid rgba(239,68,68,0.3);border-radius:12px;padding:16px;text-align:center;margin-bottom:24px}
        .fraud-v{font-size:1.5rem;font-weight:800;color:var(--red)}
        .fraud-l{font-size:0.75rem;color:var(--text2);margin-top:4px}
        .section-title{font-size:1rem;font-weight:600;margin:24px 0 12px}
        .agent-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;margin-bottom:10px}
        .agent-card.flagged{border-color:rgba(239,68,68,0.5);background:rgba(239,68,68,0.1)}
        .card-top{display:flex;align-items:center;gap:12px}
        .card-avatar{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--green),#34d399);display:flex;align-items:center;justify-content:center;font-size:1.25rem}
        .card-info{flex:1}
        .card-name{font-weight:600;font-size:0.95rem;margin-bottom:2px}
        .card-tier{font-size:0.7rem;padding:2px 8px;border-radius:8px;display:inline-block;font-weight:600}
        .tier-legendary{background:linear-gradient(135deg,var(--gold),#ffaa00);color:#000}
        .tier-established{background:linear-gradient(135deg,#3b82f6,#06b6d4);color:#fff}
        .tier-trusted{background:linear-gradient(135deg,var(--green),#34d399);color:#000}
        .tier-newcomer{background:rgba(255,255,255,0.1);color:var(--text2)}
        .tier-scammer{background:linear-gradient(135deg,var(--red),#dc2626);color:#fff}
        .card-score{text-align:center}
        .score-value{font-size:1.5rem;font-weight:800;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .score-value.flagged{color:var(--red)}
        .card-stats{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;padding-top:10px;border-top:1px solid var(--border)}
        .stat-pill{font-size:0.7rem;padding:4px 8px;background:rgba(255,255,255,0.05);border-radius:6px}
        .stat-pill.bad{color:var(--red)}
        .card-risk{display:flex;align-items:center;gap:8px;margin-top:8px;font-size:0.7rem;color:var(--text2)}
        .risk-bar{flex:1;height:5px;background:rgba(255,255,255,0.1);border-radius:3px;overflow:hidden}
        .risk-fill{height:100%;border-radius:3px;transition:width 0.5s}
        .risk-fill.low{background:linear-gradient(90deg,var(--green),#34d399)}
        .risk-fill.medium{background:linear-gradient(90deg,var(--orange),#fbbf24)}
        .risk-fill.high{background:linear-gradient(90deg,var(--red),#dc2626)}
        .add-form{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;margin:20px 0}
        .add-form h2{font-size:1rem;margin-bottom:12px;text-align:center;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .form-group{margin-bottom:12px}
        label{display:block;font-size:0.75rem;color:var(--text2);margin-bottom:4px}
        input{padding:12px;width:100%;border:1px solid var(--border);border-radius:8px;background:rgba(255,255,255,0.05);color:var(--text);font-size:0.9rem}
        input:focus{outline:none;border-color:var(--purple)}
        .potential-preview{margin-top:12px;padding:12px;background:rgba(255,255,255,0.03);border-radius:8px}
        .potential-result{display:flex;align-items:center;gap:12px;justify-content:center}
        .potential-score{font-size:1.5rem;font-weight:800}
        .potential-score.legendary,.potential-score.elite{background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .potential-score.trusted{color:var(--green)}
        .potential-score.newcomer{color:var(--text2)}
        .potential-score.scammer{color:var(--red)}
        .potential-tier{font-size:0.7rem;padding:2px 8px;border-radius:8px;font-weight:600}
        .potential-risk{font-size:0.7rem;padding:2px 8px;border-radius:8px;background:rgba(255,255,255,0.1)}
        .potential-risk.good{color:var(--green)}
        .potential-risk.ok{color:var(--orange)}
        .potential-risk.bad{color:var(--red)}
        .submit-btn{width:100%;padding:14px;background:var(--grad);border:none;border-radius:10px;color:white;font-weight:600;font-size:0.95rem;cursor:pointer;margin-top:8px}
        .submit-btn:hover{transform:translateY(-2px)}
        table{width:100%;border-collapse:collapse;margin-top:16px;font-size:0.85rem}
        td{padding:10px;border-bottom:1px solid var(--border)}
        th{text-align:left;font-size:0.7rem;color:var(--text2);padding-bottom:8px}
        .rank{font-weight:700}
        .lb-score{font-weight:700;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .lb-tier{font-size:0.7rem;padding:2px 8px;border-radius:8px;font-weight:600}
        footer{text-align:center;padding:24px 0;color:var(--text2);font-size:0.75rem;border-top:1px solid var(--border);margin-top:32px}
        .notif{position:fixed;bottom:20px;right:20px;padding:12px 16px;background:linear-gradient(135deg,var(--green),#34d399);border-radius:10px;color:white;font-weight:600;font-size:0.85rem;z-index:1000;transform:translateX(150%);transition:transform 0.3s}
        .notif.show{transform:translateX(0)}
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ ARP √ó Ethos</h1>
        <p class="subtitle">Unified Trust for Agents</p>
        
        <div class="fraud">
            <div class="fraud-v">$9B+ Lost to Fraud</div>
            <div class="fraud-l">On-chain reputation is the solution</div>
        </div>
        
        <h2 class="section-title">üë• Agents</h2>
        <div id="agents-grid"></div>
        
        <section class="add-form">
            <h2>üöÄ Add Your Agent</h2>
            <form id="agentForm">
                <div class="form-group">
                    <label>Agent Name</label>
                    <input type="text" id="name" placeholder="Your name or agent name" required>
                </div>
                <div class="form-group">
                    <label>Wallet Address</label>
                    <input type="text" id="wallet" placeholder="0x..." required oninput="calculateAndShowPotential()">
                </div>
                <div class="form-group">
                    <label>Stake (USDC)</label>
                    <input type="number" id="stake" value="100" oninput="calculateAndShowPotential()">
                </div>
                <div id="potential-preview"></div>
                <button type="submit" class="submit-btn">Add Agent</button>
            </form>
        </section>
        
        <h2 class="section-title">üèÜ Leaderboard</h2>
        <table><thead><tr><th>#</th><th>Agent</th><th>Score</th><th>Tier</th><th>Status</th></tr></thead><tbody id="leaderboard-body"></tbody></table>
        
        <footer>
            <p>üöÄ USDC Agentic Hackathon 2026</p>
        </footer>
    </div>
    <div class="notif" id="notification"></div>
</body>
</html>
